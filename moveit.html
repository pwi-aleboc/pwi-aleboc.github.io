<!DOCTYPE html>
<html>
    <head>
        <script type="text/javascript">
            var objCat;
            var objBox;
            var catSpeed = 2;
            function moveCat(x, y) {
                var newPos = parseFloat(objCat.style.left) + x;
                if(newPos >= 0 && newPos <= 92)
                    objCat.style.left = newPos + "%";
                newPos = parseFloat(objCat.style.top) + y;
                if(newPos >= 0 && newPos <= 92)
                    objCat.style.top = newPos + "%";
                
                checkGoal();
            }
            function checkGoal() {
                var catRect = objCat.getBoundingClientRect();
                var boxRect = objBox.getBoundingClientRect();
                if(catRect.top > boxRect.top && catRect.bottom < boxRect.bottom && catRect.left > boxRect.left && catRect.right < boxRect.right)
                {
					//alert("Miau.");
					document.getElementById("catText").style.display = "block";
				}
				else
				{
					document.getElementById("catText").style.display = "none";
				}
            }
            window.onload = function() {
                objCat = document.getElementById("objCat");
                objBox = document.getElementById("objBox");
                objCat.style.top = Math.random() * 92 + "%";
                objCat.style.left = Math.random() * 92 + "%";
                objBox.style.top = Math.random() * 84 + "%";
                objBox.style.left = Math.random() * 84 + "%";
                document.getElementById("buttonLeft").addEventListener("click", function() { moveCat(-catSpeed, 0) }, false);
                document.getElementById("buttonRight").addEventListener("click", function() { moveCat(catSpeed, 0) }, false);
                document.getElementById("buttonUp").addEventListener("click", function() { moveCat(0, -catSpeed) }, false);
                document.getElementById("buttonDown").addEventListener("click", function() { moveCat(0, catSpeed) }, false);
            }
        </script>
    </head>
    <body>
        <div style="width: 75vh; height: 75vh; background-color: darkgray; margin: auto; position: relative;">
			<img id="objBox" src="media/box.png" style="width: 16%; height: 16%; position: absolute;">
			<div id="objCat" style="width: 8%; height: 8%; position: absolute;">
				<img src="media/cat.png" style="width: 100%; height: 100%; position: absolute;">
				<div id="catText" style="font-family: Verdana; position: absolute; left: 50%; bottom: 0px; transform: translate(-50%, 0%); display: none;"><strong>MIAU.</strong></div>
			</div>
        </div>
        <div style="width: 75vh; text-align: center; background-color: darkgray; margin: auto;">
            <p><input id="buttonUp" type="button" value="UP"></p>
            <p>
            <input id="buttonLeft" type="button" value="LEFT">
            <input id="buttonRight" type="button" value="RIGHT">
            </p>
            <p><input id="buttonDown" type="button" value="DOWN"></p>
        </div>
    </body>
</html>
